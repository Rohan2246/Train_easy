{% extends 'layout/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.3/tutorials/timelines/timeline-1/assets/css/timeline-1.css">
<script src="https://unpkg.com/htmx.org@1.9.12"
    integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2"
    crossorigin="anonymous"></script>
<style>
    header {
        background-color: rgb(0, 0, 100);
    }
</style>{% endblock %}

{% block content %}
<section class="my-5">
    {% include 'components/steps.html' %}
    <div class="container my-5">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <div class="card shadow-lg">
                    <div class="card-body">
                        <h1 class="text-center my-2">Finalize</h1>
                        <section class="bsb-timeline-1 py-1 py-xl-8">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col-10 col-md-8 col-xl-6">

                                        <ul class="timeline">
                                            <li class="timeline-item">
                                                <div class="timeline-body">
                                                    <div class="timeline-content">
                                                        <div class="card border-0">
                                                            <div class="card-body p-0">
                                                                <h5 class="card-subtitle text-secondary mb-1">Step 1
                                                                </h5>
                                                                <h2 class="card-title mb-3">Upload Dataset</h2>
                                                                <p class="card-text m-0">
                                                                    <i class="bi bi-check-circle-fill text-success"></i>
                                                                    {{dataset.name}} [{{dataset.file}}]
                                                                    {{dataset.uploaded_at}}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="timeline-item">
                                                <div class="timeline-body">
                                                    <div class="timeline-content">
                                                        <div class="card border-0">
                                                            <div class="card-body p-0">
                                                                <h5 class="card-subtitle text-secondary mb-1">2022</h5>
                                                                <h2 class="card-title mb-3">Selected Preprocessing</h2>
                                                                <p class="card-text m-0">
                                                                    <i class="bi bi-check-circle-fill text-success"></i>
                                                                    {{preprocessing.normalization}} [{{preprocessing.encoding}}]
                                                                    {{preprocessing.created_at}}
                                                                    
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="timeline-item">
                                                <div class="timeline-body">
                                                    <div class="timeline-content">
                                                        <div class="card border-0">
                                                            <div class="card-body p-0">
                                                                <h5 class="card-subtitle text-secondary mb-1">2019</h5>
                                                                <h2 class="card-title mb-3"> Selected Algorithm</h2>
                                                                <p class="card-text m-0">
                                                                    <i class="bi bi-check-circle-fill text-success"></i>
                                                                    {{algorithm.name}} [{{algorithm.description}}]
                                                                    {{algorithm.created_at}}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="timeline-item">
                                                <div class="timeline-body">
                                                    <div class="timeline-content">
                                                        <div class="card border-0">
                                                            <div class="card-body p-0">
                                                                <h5 class="card-subtitle text-secondary mb-1">2013</h5>
                                                                <h2 class="card-title mb-3">Selected Metric</h2>
                                                                <p class="card-text m-0">
                                                                    <i class="bi bi-check-circle-fill text-success"></i>
                                                                    Sleek, intuitive, and powerful
                                                                    front-end framework for faster and easier web
                                                                    development. Bootstrap 2 is no longer officially
                                                                    supported.</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class="timeline-item">
                                                <div class="timeline-body">
                                                    <div class="timeline-content">
                                                        <div class="card border-0">
                                                            <div class="card-body p-0">
                                                                <h5 class="card-subtitle text-secondary mb-1">2013</h5>
                                                                <h2 class="card-title mb-3">Training</h2>
                                                                <p class="card-text m-0">
                                                                    <i class="bi bi-check-circle-fill text-success"></i>
                                                                    Sleek, intuitive, and powerful
                                                                    front-end framework for faster and easier web
                                                                    development. Bootstrap 2 is no longer officially
                                                                    supported.</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>

                                    </div>
                                    <form hx-post="{% url 'execute' %}" htmx-swap="outerHTML" htmx-indicator=".loader">
                                        <div class="d-grid py-5">
                                            <button class="btn btn-primary">
                                                Train
                                                Model
                                                <div class="d-none loader">
                                                    <span class="spinner-border spinner-border-sm" role="status"
                                                        aria-hidden="true"></span>
                                                    Loading...
                                                </div>
                                            </button>


                                        </div>
                                    </form>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}